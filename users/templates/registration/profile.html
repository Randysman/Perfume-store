{% extends 'main/base.html' %}
{% load static %}

{% block title %}Профиль - {{ user.username }}{% endblock title %}

{% block content %}

    <div class="container-profile">
        <div class="d-flex">
        <div class="profile d-flex p-4 mb-4 mx-2 rounded">
            <form action="{% url 'users:profile' %}" method="post" enctype="multipart/form-data">
                <h2 class="mb-2">Профиль</h2>
                {% csrf_token %}
                <div class="d-flex">
                    <div class="1box">
                        <div class="col-md-12 mb-3">
                            {% if user.image %}
                                <img src="{{ user.image.url }}" alt="Аватар" class="img-fluid" style="max-width: 150px; max-height: 150px;">
                            {% else %}
                                <img src="{% static 'img/noimage.jpg'%}" alt="Аватар" class="img-fluid" style="max-width: 150px; max-height: 150px;">
                            {% endif %}
                            <input type="file" class="form-control form-styleprofile mt-2" id="id_image" name="image" accept="image/*">
                        </div>
                        <div class="col-md-12 mb-3">
                            <label for="id_first_name" class="form-label">Имя</label>
                            <input type="text" class="form-control form-styleprofile" id="id_first_name" name="first_name" placeholder="Ваше имя"
                            value=" {{ form.first_name.value }}" required>
                        </div>
                        <div class="col-md-12 mb-3">
                            <label for="id_last_name" class="form-label">Фамилия</label>
                            <input type="text" class="form-control form-styleprofile" id="id_last_name" name="last_name" placeholder="Ваша фамилия"
                            value=" {{ form.last_name.value }}" required>
                        </div>
                    </div>
                    <div class="box2">
                        <div class="col-md-12 mb-3">
                            <label for="id_username" class="form-label">Имя пользователя</label>
                            <input type="text" class="form-control form-styleprofile" id="id_username" name="username" placeholder="Имя пользователя"
                            value=" {{ form.username.value }}" required>
                        </div>
                         <div class="col-md-12 mb-3">
                            <label for="id_email" class="form-label">Email</label>
                            <input type="email" class="form-control form-styleprofile" id="id_email" name="email" placeholder="Email"
                            value=" {{ form.email.value }}" required>
                        </div>
                    </div>
                </div>
                <div class="btn d-flex gap-4 mt-4">
                    <button type="submit" class="btn">Сохранить</button>
                </div>
            </form>
                <ul>
                    <li>
                        <form action="{% url 'users:logout' %}" method="post">
                            {% csrf_token %}
                            <button type="submit" class="btn">Выйти</button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </div>
{% endblock content %}